# 教程·点集流进阶之路

# 点集流进阶之路

## 前言

### 关于我

大家好，我是邱继衠（邱工），一个专注gh搞幕墙6年的老小伙，16年本科毕业于华中科技大学交通工程系。从对建筑、幕墙、BIM、犀牛、gh这些一无所知的纯外行，一步步把自己折腾成了搞场馆类幕墙施工BIM的专业户。做过的大型异形幕墙项目：苏州太平金融大厦、襄阳东站、青岛市民健身中心体育场、西安奥体中心游泳馆、雄安商务服务中心、长安云、青岛亚洲杯足球场、青岛图书馆等。 

### 代表工程作品

苏州·太平金融大厦

![苏州太平-8](../../images/苏州太平-8.jpg)

西安·奥体中心游泳馆

![西安游泳馆-7](../../images/西安游泳馆-7.jpg)

雄安·商服中心

![雄安会展中心-2](../../images/雄安会展中心-2.jpg)

西安·长安云

![长安云-3](../../images/长安云-3.jpg)

青岛·亚洲杯足球场

![亚洲杯-5](../../images/亚洲杯-5.jpg)

成都·云端音乐厅

![云端-4](../../images/云端-4.jpg)

郑州·大剧院音乐厅

![郑州大剧院-9](../../images/郑州大剧院-9.jpg)



### 我的自学之路
我是在16年7月第一次下载犀牛，开始自学rhino、gh的时候，还没有这么好的学习条件，没有这么多教程。

8月做项目的时候**连grasshopper的bake都不懂**的情况下，试着写rhino python script来解决效率问题。

9-12月，我大概平均每天睡觉4小时，疯狂在项目压力下研究学习gh，本着刨根问底的态度，一个个穷举尝试，逐步了解各个运算器功能和数据结构的用法。

17年我已经可以通过参数化解决公司很多项目问题，17-18年我在Udacity上完成自学Python数据分析的课程打下了python基础。后续不断产、学、研中完善自己的参数化风格。![Uda毕业证书](../../images/Uda毕业证书.jpg)

### 教学经验
17年开始，多次在公司内部培训grasshopper数据结构

18年我开始在自己公众号、知乎等平台发布自己制作的图文教程[#grasshopper迭代学习 (qq.com)](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzU2NTU4Nzk1MA==&action=getalbum&album_id=1348442263634018306&scene=173&from_msgid=2247484627&from_itemidx=1&count=3&nolastread=1#wechat_redirect)，记录学习参数化过程中的一些**瓶颈知识点**。很高兴得到一些小伙伴的认可，跟着我的教程入门。

19年开始在网络上有朋友私下跟我学gh，我开始了1v1收徒长期教学的尝试。

20年曾被企业邀请做线下培训。

21年开始在更多朋友找我学gh的情况下，我尝试社群直播更新的方式，一对多教学。[一年之约，请随我们一起耐力长跑！ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247485306&idx=1&sn=0dc04cc5e15d4ac389edf7ad614cb416&chksm=fcb83dfbcbcfb4eded502db6f31626ca1d6a6e087b5f7d532f80d8b327afe6fb7a89275568cd&scene=178&cur_album_id=1348442263634018306#rd)

### 为什么做这样的记录型课程
从事一个很细分的领域6年的我，认为做技术专业深度重要的同时，做横向延伸也非常重要。一份技术只有自己会，难以发扬光大。

深受《深度工作》一书影响，我认为越深的知识，能传播的越久远，影响力越大，成为一个IP。

拥有操刀多个大型异形工程参数化落地的宝贵经历，给我找出其共性方法论的使命感。

所以我决定把经验心得**毫无保留的传授出来**，这是一条我在幕墙参数化领域走出来的一条路，我将它称作“点集流进阶之路”，这条路未来怎么走还不确定，但是沿着这条路，至少可以帮助每位爱学习的朋友，**了解真实落地的大型幕墙工程设计、施工、加工阶段的参数化方法论**，大踏步的跟进技术前沿。

### 与时间赛跑
真实工程往往繁复，在一个施工企业中做技术工作更是如此，所以同行中能有精力细数工程细节和关键点，并录制成系统教程的也不多。**做工程往往是与时间赛跑，教与学的时间都要从高强度工作中硬挤，坚持并不容易**。
### 周更社群
也是意识到这一点，我在2021年4月给自己下达了任务，创办教学社群，以每周一小时的更新频率完成教学。这是我参考《微习惯》这本书的一个尝试——让任务简单到很难失败。如今2022年5月了，我将履约完毕，更完这52节、实际超过52小时的课程。

## 课程介绍
### 进阶前的基础知识
本着记录性课程的制作思路，进阶课的制作是在《grasshopper迭代学习》的基础上制作的，所以完全没有基础的同学，可以先不要着急学习进阶课，把以下先验知识先温习一遍。不然经测试会跟不上进阶课的讲解速度。[#grasshopper迭代学习 (qq.com)](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzU2NTU4Nzk1MA==&action=getalbum&album_id=1348442263634018306&scene=173&from_msgid=2247484627&from_itemidx=1&count=3&nolastread=1#wechat_redirect)
#### 01预热

[Grasshopper迭代学习01|预热 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247483816&idx=1&sn=bb48ff2e261492819e3c57c2528feeec&scene=21#wechat_redirect)

#### 02视图

[grasshopper迭代学习02|视图 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247483864&idx=1&sn=c0d1d155e3afbfcb0f3a91cc2b0c26b0&scene=21#wechat_redirect)

#### 03高频

[grasshopper迭代学习03|高频 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247483870&idx=1&sn=ff627c15cfd7cd2c0dd6def0170bcefa&chksm=fcb83b5fcbcfb249d00d69f4489ce6327ebaa2f29f12db3e18bfe1e0af30c35eb9b0fadd8d5d&mpshare=1&scene=21&srcid=0824fZ6vhXA2wg2KY7UwnQp7#wechat_redirect)

#### 04操纵（数据结构）

[grasshopper迭代学习04|操纵(1) (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247483962&idx=1&sn=36da4df3b1e032e322e46441ead046bf&chksm=fcb838bbcbcfb1ad15905b067fd68d52756c417b4ee3fff521e98323430b4ed9a352fb94374b&scene=21#wechat_redirect)

#### 05操纵（几何排序）

[grasshopper迭代学习05|操纵(2) (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247484123&idx=1&sn=8b7463db9a08d8cb8668b127627fd114&chksm=fcb8385acbcfb14cfdfb0022cfdbb055a848da0db16eb0625c321ad65ad14886b27e474b7125&scene=21#wechat_redirect)

#### 06三维（点与平面）

[grasshopper迭代学习06|三维 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247484451&idx=1&sn=dede6f120d0ec2174aa473c4f0d5cd46&chksm=fcb83ea2cbcfb7b4e5a258cd3f161d3b2c85540a119c2d08f64d710e491fce8b1d308cafa6eb&scene=21#wechat_redirect)

#### 07点集流绪论

[grasshopper迭代学习07|点集流 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247484539&idx=1&sn=7d615c242e4f2c69df903882e19f131a&chksm=fcb83efacbcfb7ecf8c4061beee0242cf4ed4c7dd2234b0d3afc5e42e5db53cb8ac0c099b947&scene=21#wechat_redirect)

#### 08点集流应用

[grasshopper迭代学习08|点集算法：切割面 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247484621&idx=1&sn=2aa80ebdbecb9010a8f9834829fc6fc2&chksm=fcb83e4ccbcfb75a590e290ba0a96ca7f69dcc5fea1482b5acf8a745343f839657d4add464f2&scene=21#wechat_redirect)

#### 09ghpython

[grasshopper迭代学习09|快节奏入门ghpython (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247484627&idx=1&sn=1f8f084c5174f4b2b4d19dfe17ee1e44&chksm=fcb83e52cbcfb744d9dcd2c35af55ef6c50596e0332ccf238a6eaaba735d9e72c5cc54c369c4&scene=21#wechat_redirect)

#### 10特征值

[grasshopper迭代学习10|特征值 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU2NTU4Nzk1MA==&mid=2247485214&idx=1&sn=a4d06ebfa93f01e529cf0efff9115e44&chksm=fcb83d9fcbcfb489fc528c44887bed5d35ba630b5256a30af47eb64c1eafaa8db312ac350a30&scene=178&cur_album_id=1348442263634018306#rd)

### 进阶课大纲
#### c01模型+特征值=归类模型+数据
任何一个完整工程BIM技术应用，都可以拆分为多个“按需提参”的子任务。
任何子任务的本质都是——根据需求建模，并提供模型+数据。
第一节进阶课，没有建模的教学，而是提出这个输出成果的常用范式——将图元解析出特征值，然后自动归类统计出相应数据，同时生成相应分类模型。
这一范式，可以应用于面材下单、线材提料、散件计量、单元组装提参等几乎所有幕墙工程应用点。是干货中的干货，所以在第一节先引出。

#### c02点集流在石材建模下单上的应用（点集流分工）
第二节，从点集流的应用开始，介绍了最常见的面材下单问题。点集这一概念常常用到，它可以理解为特征值的推导起点。点集的取得并不绝对依赖参数化能力，所以很适合分工，让初学者完成点集制作工作。最后**化零为整，进行特征值输出**。
#### c03龙骨排序案例
幕墙龙骨建模是常用需求，本节以龙骨提参应用为例，进行**排序**这一常见需求的思路介绍。
#### c04龙骨模型的断接重构与剖面出图
在面对模型各种原因建错的情况下，最大化利用原有模型进行批量修改模型的思路介绍，以及龙骨剖面图批量绘制的技巧。
#### c05用最少参数钢结构建模
钢结构建模，往往是各类方管在空间中的交错布置。任何看起来复杂的空间钢构，其最简建模方式是一致的——“一线，一法向，一截面”，三参数建模法，可以作为任何钢结构建模的基础算子。
#### c06复习答疑：直板与弧板玻璃排序下料
这一节是特征值的一个应用，结合学员提出的问题，进行一个直板弧板玻璃才用特征值下料的方法。任何类型玻璃下料问题，都可以参考本课程的思路。
#### c07算法设计：以给定半径衔接两条曲线
这一节是穿插的一个学生问题的讲解，与点集流的课程框架相关性没那么大，可以暂时跳过最后再看，它讲述的是面临一个全新未知的几何问题，如何一点一点找到解题思路。
#### c08pythonscript与ghpython入门
这一节是进阶课后续项目实战中对于特别复杂的算法使用ghpython或者pythonscript的一个入门介绍。python这一强大的脚本语言，和Rhino之间如何衔接的上， 能够用于算法开发。这一节将其中的关键知识讲解了，有python学习需求的同学可以反复观看。
#### c09算法详解：特征值电池Type的实现原理
喜欢刨根问底的同学，可以在第一节之后就看这一节的内容，**知其然也知其所以然**，本节将特征值输出算法进行了详细的拆解，属于干货中的干货（本人工作5年之际总结出来的一套通用工作流）。
#### c10中低频电池讲解上
基础教程中只对高频电池进行了讲解，本节课将使用频率相对较低（初期学习性价比不高）的运算器过了一遍。如果对特定运算器功能缺乏了解，可以按需查阅第10-11节的内容。
#### c11中低频电池讲解下
基础教程中只对高频电池进行了讲解，本节课将使用频率相对较低（初期学习性价比不高）的运算器过了一遍。如果对特定运算器功能缺乏了解，可以按需查阅第10-11节的内容。
#### c12折面玻璃与龙骨点集流建模上
项目综合案例，北京通州图书馆项目的玻璃对折建模思路，本节课关键知识点有折角问题的解决，多型材自动匹配多种类型折角进行建模的技巧。
#### c13算法：simprof截面优化与炸块选截面
介绍了一个型材截面优化，从而减小模型体积的算法技巧。同时介绍了一个如何借用python实现图块内图元穿透的技巧。希望对图块特性进行更多了解的同学可以查阅这节课的内容。
#### c14折面玻璃与龙骨建模下
项目综合案例，北京通州图书馆项目的玻璃对折建模思路，本节课关键知识点有折角问题的解决，多型材自动匹配多种类型折角进行建模的技巧。
#### c15 seltree分组与线参数分组排序
本节先介绍了seltree算法，可以方便、快速的通过一个命令，拾取出Tree数据结构，相较于gh的常规拾取操作具有很大效率优势。适用于算法自动排序比较困难的异形曲面排序问题。
本节还介绍了一种常见的线参数分组的算法排序技巧，可以方便的排出广义横纵排序拓扑图元。
#### c16双曲造型玻璃冷弯与翘边做法建模
项目综合案例，苏州太平金融中心项目的玻璃建模思路。对于双曲面造型的玻璃材料细分思路提供了解决方案。有遇到类似项目的同学，可以查阅本节内容提供的方法。
#### c17变截面异形件建模
项目综合案例，苏州太平金融中心项目的玻璃建模思路。对于截面出现变化的异形材料建模思路。
#### c18样板算法套用到整个项目的复杂排序问题
本节课，讲述了从局部到整体的算法应用思路。做工程项目的时候，前期算法开发为了效率，往往采用局部位置进行算法推敲，在局部算法应用于大面整体时，往往因为数据结构维度高、排序问题错乱等各种原因难以适用，本节课讲述了这种以小见大的debug技巧。
#### c19空间扭转线材直段切割拼接
异形项目装饰线条、格栅等线性连续装饰构造的范式解决思路——空间拉伸体，两侧切二面角，进行直段拼接出效果。是一种经济实用、经过实践验证可行的施工技巧。造价相对低，艺术效果打折小。施工方通过方案签图的利器。干货！
#### c20扭转截面渐变问题如何修改点集
异形项目，设计感的提升往往在标准区和双曲区之间进行过渡效果设计，这种区域往往是幕墙造型设计的难点。本节课通过算法设计，将这种圆滑过渡问题抽象为数据问题，从而实现效果。和上节课一样，施工方通过方案签图的利器。干货！
#### c21datatree对象在python中的构造与拆解
纯粹的python应用干货，当gh不足以或者非常费劲才能处理好你想要的数据结构时，你就非常有必要学会本节的内容了，最硬核的数据构造方式。有了它你对gh的任何数据结构问题都可以驾轻就熟，通过代码从源头上认识树形数据、自由解析和构造树形数据。
#### c22rhinocommon文档查阅与item_list_tree开发
纯粹的python应用干货，对Rhino进行二开的基本方法，面向对象编程的一些简单介绍，以及ghpython运算器的三种数据进入方式介绍。很多时候你的代码不像想象中运行，都是这里没设置好。值得反复查阅的python应用技巧。
#### c23python解析物件图层树与筛选特定分支数据处理
python综合应用，一个基于图层的二开和数据结构处理的案例，增强你对ghpython强大功能的认识。刨根问底爱好者值得一看。
#### c24（复杂穿孔幕墙系列之一）以gh与py算法分别实现点集成面
西安奥体中心游泳馆项目的详细介绍。这个项目从各方面看都是我个人把BIM应用的最全面、最有价值的项目。是我2019年首次将python算法融入实际工程的成功尝试，也开启了我点集+python做工程的“开挂模式”。我为何对点集流这么推崇，这个项目可见一般。（从6个点到百万级大数据）。第一节，讲述gh和python算法应用的差别。
#### c25（复杂穿孔幕墙系列之二）全参分格的python实现
西安奥体中心游泳馆项目的详细介绍，python生形应用。
#### c26（复杂穿孔幕墙系列之三）debug
讲debug的思路。内容有些翻车，可酌情跳过
#### c27 幕墙归类案例答疑&复杂穿孔幕墙系列之四）用可靠点算法成面
西安奥体中心游泳馆项目系列课程，用可靠点算法替换原算法的思路
#### c28（复杂穿孔幕墙系列之五）底孔布置思路
开始做孔，点集成孔算法详解
#### c29（复杂穿孔幕墙系列之六）索引表选方案与多个6点集生成项目
多类型穿孔怎么分区布置，介绍一种外部参数表驱动算法分类生成的思路，大项目非常实用
#### c30（复杂穿孔幕墙系列之七）气泡生成与底孔删除（meshjoin方法）
孔群抠形问题，当底孔上具有其他创意元素时候，怎么搞定的
#### c31（复杂穿孔幕墙系列之八）气泡环状填充（数据结构操作较多）
形中构孔问题，气泡于玻璃内孔如何生成。
#### c32（复杂穿孔幕墙系列之九）下料与动画系列开篇介绍
建模完的最后一步特征值下料，特征值算法应用案例。后面简介了python动画系列课程。
#### c33动画算子——随机空间扭转飞入
python动画教程第一节，利用plane的随机orient，完成生动的空间飞入算子。可以频繁用于动画制作。
#### c34(动画视图变化算子线面出现与动作）
python动画教程第二节，线动画与面动画。
#### c35(动画多事件连贯性与流控制）
python动画教程第三节，怎么将多个小动画串起来构成长动画。
#### c36-44（装配式异形场馆系列）
青岛亚洲杯足球场综合案例。装配式项目（单元式项目也可）怎么做，看这个系列就够了。非常综合的一个案例，我最近做的工程，驾轻就熟的运用了**点集分工、点集python算法、特征值生成、特征值输出**等工作流，非常成熟的应用，解决此类项目的范式。
#### c45-52(框架式立体三角块纹理幕墙）
青岛图书馆综合案例。框架式项目，常规框架幕墙、双曲玻璃幕墙、立体肌理三种大元素的杂糅。难度很高的幕墙，也是我最新挣脱舒适区的尝试。青岛亚洲杯足球场可以算是点集流的过去，青岛图书馆的实践则指向点集流的未来。

